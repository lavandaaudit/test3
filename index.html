<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>GEOMETRIC CHAOS · PHYSICAL DATA SYSTEM</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  background:#000;
  overflow:hidden;
  font-family:"Courier New",monospace;
  color:#9fe7ff;
}
canvas{
  position:fixed;
  inset:0;
}
#hud{
  position:fixed;
  top:10px;
  left:10px;
  font-size:11px;
  line-height:1.4;
  opacity:0.75;
}
#info{
  position:fixed;
  bottom:8px;
  width:100%;
  text-align:center;
  font-size:10px;
  opacity:0.35;
}
</style>
</head>

<body>
<canvas id="c"></canvas>

<div id="hud"></div>

<div id="info">
фізико-геометрична система. симуляція реальних та модельованих даних.
геометрія реагує на магнітні, атмосферні, океанічні, сейсмічні та сонячні параметри.
</div>

<script>
/* ===================== CANVAS ===================== */
const canvas=document.getElementById("c");
const ctx=canvas.getContext("2d");
let w,h,cx,cy;

function resize(){
  w=canvas.width=innerWidth;
  h=canvas.height=innerHeight;
  cx=w/2;
  cy=h/2;
}
addEventListener("resize",resize);
resize();

/* ===================== TIME ===================== */
let t=0;

/* ===================== DATA ===================== */
const data={
  seismic:0.3,
  magnetic:0.4,
  atmosphere_wind:0.5,
  atmosphere_pressure:0.6,
  atmosphere_temp:0.5,
  ocean:0.4,
  solar_radiation:0.5,
  solar_wind:0.4,
  precipitation:0.3,
  chaos:0.35
};

/* ===================== DATA DRIFT ===================== */
function updateData(){
  for(const k in data){
    data[k]+= (Math.random()-0.5)*0.008;
    data[k]=Math.max(0,Math.min(1,data[k]));
  }
}

/* ===================== HUD ===================== */
const hud=document.getElementById("hud");
function drawHUD(){
  hud.innerHTML=Object.entries(data)
    .map(([k,v])=>`${k.padEnd(22," ")} ${v.toFixed(2)}`)
    .join("<br>");
}

/* ===================== STARS ===================== */
const stars=[];
for(let i=0;i<400;i++){
  stars.push({
    x:Math.random()*w,
    y:Math.random()*h,
    s:Math.random()*1.5+0.2,
    p:Math.random()*Math.PI*2
  });
}

/* ===================== ATTRACTOR ===================== */
let ax=0.1, ay=0, az=0;
function stepAttractor(){
  const sigma=10+data.magnetic*10;
  const rho=28+data.chaos*20;
  const beta=2.66;

  const dx=sigma*(ay-ax);
  const dy=ax*(rho-az)-ay;
  const dz=ax*ay-beta*az;

  ax+=dx*0.004;
  ay+=dy*0.004;
  az+=dz*0.004;
}

/* ===================== DRAW ===================== */
function loop(){
  updateData();
  drawHUD();

  t+=0.01 + data.atmosphere_temp*0.01;

  ctx.fillStyle="rgba(0,0,0,0.18)";
  ctx.fillRect(0,0,w,h);

  /* ---- stars field ---- */
  stars.forEach(s=>{
    const n=Math.sin(t+s.p)*data.atmosphere_wind*2;
    ctx.fillStyle=`rgba(180,220,255,${0.15+data.solar_radiation*0.3})`;
    ctx.fillRect(s.x+n,s.y+n,s.s,s.s);
  });

  /* ---- central geometry (СТАРИЙ СТИЛЬ) ---- */
  for(let i=0;i<7;i++){
    const sides=3+i+Math.floor(data.magnetic*4);
    const base=110+i*40;
    ctx.beginPath();
    for(let j=0;j<=sides;j++){
      const a=j/sides*Math.PI*2;
      const noise=
        Math.sin(
          t*0.8 +
          j*0.7 +
          i*1.3
        )*
        (40*data.seismic + 60*data.ocean + 30*data.chaos);

      const r=base+noise;
      const x=cx+Math.cos(a+t*0.1)*r;
      const y=cy+Math.sin(a+t*0.1)*r;
      if(j===0) ctx.moveTo(x,y);
      else ctx.lineTo(x,y);
    }
    ctx.strokeStyle=`rgba(
      ${160+data.solar_radiation*80},
      ${180+data.atmosphere_temp*60},
      255,
      ${0.04+data.solar_wind*0.15}
    )`;
    ctx.lineWidth=0.6+data.atmosphere_pressure;
    ctx.stroke();
  }

  /* ---- attractor overlay (НЕ ЛАМАЄ) ---- */
  stepAttractor();
  ctx.save();
  ctx.translate(cx,cy);
  ctx.beginPath();
  ctx.strokeStyle=`rgba(255,120,200,${0.12+data.chaos*0.3})`;
  ctx.lineWidth=1;
  ctx.lineTo(ax*9,ay*9);
  ctx.stroke();
  ctx.restore();

  requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>
